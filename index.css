@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  /* 更新字體：英文 Inter, 中文 Noto Sans TC */
  font-family: "Inter", "Noto Sans TC", system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* 針對列印的優化樣式 */
@media print {
  @page {
    /* 建議瀏覽器使用橫向列印，以適應寬樹狀圖 */
    size: landscape; 
    margin: 5mm;
  }

  body {
    -webkit-print-color-adjust: exact;
    background-color: white !important;
    min-width: 1024px; /* 防止版面縮太小 */
  }

  /* 隱藏背景色與陰影以節省墨水並增加清晰度 */
  .bg-gray-50, .bg-slate-900, .bg-slate-950\/30 {
    background-color: white !important;
    color: black !important;
  }
  
  .shadow-sm, .shadow-md, .shadow-lg {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
  }

  /* 
     MODAL 列印模式
     當 body 擁有 .print-mode-modal class 時，隱藏所有主要內容，只顯示 Modal
  */
  body.print-mode-modal > *:not(.team-match-modal-wrapper) {
    display: none !important;
  }

  body.print-mode-modal .team-match-modal-wrapper {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: auto !important;
    background: white !important;
    z-index: 9999 !important;
    display: flex !important;
    padding: 0 !important;
    overflow: visible !important;
  }

  /* 
     STANDARD 列印模式 (列印整個樹狀圖) 
     僅當非 Modal 列印模式時生效
  */
  body:not(.print-mode-modal) .bracket-container {
    min-height: 0 !important;
    height: auto !important;
    display: flex !important;
    /* 修正：禁止折行，確保樹狀結構水平延伸 */
    flex-wrap: nowrap !important; 
    gap: 10px !important;
    width: max-content; /* 確保內容寬度完整，不會被切斷 */
    padding: 20px 0 !important;
  }

  body:not(.print-mode-modal) .bracket-round-column {
    display: flex !important;
    flex-direction: column !important;
    height: auto !important;
  }

  /* 確保每個 MatchCard 不會被從中間切斷 */
  .match-card-wrapper {
    break-inside: avoid;
    page-break-inside: avoid;
    margin-bottom: 5px;
  }
  
  /* 標題只在第一頁顯示（自然流佈局特性），確保它下方不會直接被切斷 */
  .print-title {
    break-after: avoid;
    page-break-after: avoid;
    margin-bottom: 20px;
  }

  /* 隱藏滾動條 */
  ::-webkit-scrollbar {
    display: none;
  }
}
